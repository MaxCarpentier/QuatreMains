# QuatreMains

## Pré-requis

Objets externes et librairies nécessaires au bon fonctionnement des programmes (Bach et Cage ne sont utilisés que pour la portion "piano", qui n'est pas développée dans le cadre du cours de Projet en Informatique Musicale, mais sont toujours pratiques si vous voulez y jeter un coup d'oeil!) Les objets ROLI BLOCKS sont, semble-t-il, déjà inclus et installés automatiquement avec certaines versions de MAX, si tel n'est pas le cas, ils peuvent être installés à partir du ''package manager'' (voir lien plus bas.)

```
Objet bonk~ : https://github.com/v7b1/bonk_64bit-version/releases
Libraires Bach et Cage : http://www.bachproject.net/dl/
Librairie d'objets ROLI BLOCKS : https://cycling74.com/feature/roliblocks
```

### N.B.:

Le projet a été réorienté en début de session et ce n'est donc plus de la portion "piano" dont il est question dans le cadre du cours de Projet en Informatique Musicale, mais plutôt de la portion "percussions".Le patch principal à ouvrir est donc celui intitulé QuatreMains_Percs (tous les fichiers relatifs au projet QuatreMains ont été inclus dans le dossier pour centraliser le tout et permettre une meilleure gestion de l'ensemble de cette démarche, mais seul le patch QuatreMains_Percs et ses objets associés est directement lié au cours.) Pour faciliter la discrimination des fichiers, j'ai ajouté le préfixe mx. (pour Maxime) devant les objets développés dans le cadre du cours de Projet en Informatique Musicale, les objets se terminant avec le suffixe ''poly'' ont été développés en fonction du piano (et s'ils ont à être adaptés et réutilisés plus tard, je modifierai la nomenclature pour s'assurer que le tout reste aisément compréhensible.)

Au cas où vous auriez oublié ce en quoi consiste ce projet nouvellement réorienté, voici un résumé sommaire :
Performance improvisée ''à quatre mains'' sur instruments de percussion robotisés (on joue sur les percussions qui jouent elles aussi en temps réel avec nous grâce à l'intermédiaire de solénoïdes ''Percpro'' de la compagnie Polyend : http://polyend.com/perc-pro-drumming-machine/ posés sur les instruments.) En format installatif, le système sera utilisé par plusieurs personnes qui n'auront jamais été en contact avec le programme et donc la patch contient donc un ''Presentation Layer'' primordial, montrant les premières étapes d'interaction avec l'utilisateur que vous pourrez évidemment ouvrir et visualiser. Les directives s'affichent à l'écran pour guider l'utilisateur (pour l'instant il n'y a que la calibration initiale, mais par la suite les directives seront musiales en lien avec l'improvisation en cours.) Des micros contacts sont posés sur les différents instruments de percussion (2 pour l'instant) et mx.audiotrigger permet la détection des attaques avec vélocité ramenée sur l'ambitus MIDI 1-127 (en fonction du niveau minimal et maximal d'attaque à détecter établi lors de la calibration ainsi que de la courbe de transfert ''exposant''.) Ces attaques, récupérées sous forme de listes, seront par la suite envoyées à divers modules permettant de faire réagir le système et d'actionner les solénoïdes (la patch QuatreMains_Piano est un bon exemple plus abouti où les modules sont déjà mis en place si vous voulez avoir une meilleure idée de tout ça!) Un ''tap-tempo réactif'' détecte le tempo courant ainsi que les subdivisions rythmiques lorsque l'utilisateur joue des noires sur la première percussion et des subdivisions sur la deuxième. L'information est envoyée à un objet Tempo qui pourra régir l'ensemble du patch par la suite. Un ''calculateur de delta T moyen réactif'' permet d'obtenir des données continues sur le rythme joué (plus précisémment la différence de temps entre les différents ''coups'' sur les percussions) sans se contraindre à une métrique particulière, données qui seront par la suite utilisées et manipulées dans les différents modules. Un module de ''time-quantize'' très simple permet, lorsqu'il est enclenché, de contraindre la sortie des futurs modules à la rythmique régulière établie (les subdivisions du tempo détecté plus tôt.) Il s'agit en quelque sorte du ''squelette'' du programme (l'entrée provenant de l'instrumentiste, la sortie vers les solénoïdes, l'interaction avec l'utilisateur en évolution dans le temps, les premières manipulations sur les attaques reçues etc.) auquel se grefferont éventuellement les modules permettant de faire jouer les solénoïdes.

### Contact:
N'hésitez pas à m'écrire si vous avez des questions au : maxime.carpentier95@hotmail.com.
